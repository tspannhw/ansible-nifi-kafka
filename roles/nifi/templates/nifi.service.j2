[Unit]
Description=Apache NiFi
Requires=network.target
After=network.target

[Service]
Type=forking
User={{ nifi_user }}
Group={{ nifi_group }}
ExecStart={{ nifi_install_dir }}/bin/nifi.sh start
ExecStop={{ nifi_install_dir }}/bin/nifi.sh stop
ExecReload={{ nifi_install_dir }}/bin/nifi.sh restart
Environment=JAVA_HOME=/usr/lib/jvm/jre-1.8.0
WorkingDirectory={{ nifi_install_dir }}
Restart=no

[Install]
WantedBy=multi-user.target
